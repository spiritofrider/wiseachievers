{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"ng2-charts\";\n\nfunction GraphsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"Career Interest\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelementStart(4, \"h5\", 4);\n    i0.ɵɵtext(5, \" Career interest chart \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"canvas\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 3);\n    i0.ɵɵelementStart(8, \"h5\", 4);\n    i0.ɵɵtext(9, \" Career interest chart \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 7);\n    i0.ɵɵelement(11, \"canvas\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"datasets\", ctx_r0.career2Data)(\"labels\", ctx_r0.career2Labels)(\"legend\", ctx_r0.chartLegend)(\"type\", ctx_r0.chartType);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"datasets\", ctx_r0.career3Data)(\"labels\", ctx_r0.career3Labels)(\"legend\", ctx_r0.pieChartLegend)(\"type\", ctx_r0.pieChartType);\n  }\n}\n\nfunction GraphsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"Personality\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelementStart(4, \"h5\", 4);\n    i0.ɵɵtext(5, \"Personality chart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"canvas\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 3);\n    i0.ɵɵelementStart(8, \"h5\", 4);\n    i0.ɵɵtext(9, \"Personality chart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"canvas\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"datasets\", ctx_r1.personality1Data)(\"labels\", ctx_r1.personality1Labels)(\"legend\", ctx_r1.chartLegend)(\"type\", ctx_r1.chartType);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"datasets\", ctx_r1.personality2Data)(\"labels\", ctx_r1.personality2Labels)(\"legend\", ctx_r1.chartLegend)(\"type\", ctx_r1.chartType);\n  }\n}\n\nexport let GraphsComponent = /*#__PURE__*/(() => {\n  class GraphsComponent {\n    constructor() {\n      this.barGraphColors = [\"#f4c2c2\", \"#b000b5\", \"#c0ffee\", \"#c0ffee\", \"#ffbf00\", \"#f2f3f4\", \"#8db600\", \"#b2beb5\", \"#6e7f80\", \"#ff2052\", \"#848482\", \"#ffebcd\", \"#a2a2d0\", \"#0095b6\", \"#e3dac9\", \"#f0dc82\"];\n      this.chartType = \"bar\";\n      this.pieChartType = \"pie\";\n      this.chartLegend = false;\n      this.pieChartLegend = true;\n      this.career2Data = [];\n      this.career3Data = [];\n      this.personality1Data = [];\n      this.personality2Data = [];\n      this.aptitudeLabels = [\"English Ability\", \"Numerical Ability\", \"Mechanical Ability\", \"Visual Spatial Ability\"];\n      this.aptitudeData = [];\n    }\n\n    ngOnInit() {\n      console.log(this.graphInfo);\n      this.career2Labels = Object.keys(this.graphInfo.test_2.info);\n      this.career2Data = this.chartObject(\"test_2\", \"Career interest chart\");\n      this.career3Labels = Object.keys(this.graphInfo.test_3.info);\n      this.career3Data = this.chartObject(\"test_3\", \"Career interest chart\");\n      this.personality1Labels = Object.keys(this.graphInfo.test_4.info);\n      this.personality1Data = this.chartObject(\"test_4\", \"Personality chart\");\n      this.personality2Labels = Object.keys(this.graphInfo.test_5.info);\n      this.personality2Data = this.chartObject(\"test_5\", \"Personality chart\");\n      this.aptitudeData = this.aptitudeObject(\"Aptitude results\");\n    }\n\n    chartObject(testNumber, header) {\n      return [{\n        data: this.chartData(testNumber),\n        //label: header,\n        backgroundColor: this.barGraphColors\n      }];\n    }\n\n    chartData(testNumber) {\n      const data = this.graphInfo[testNumber].info;\n      return Object.keys(data).map(k => data[k]);\n    }\n\n    aptitudeObject(header) {\n      return [{\n        data: [this.graphInfo.test_6.info, this.graphInfo.test_7.info, this.graphInfo.test_8.info, this.graphInfo.test_9.info],\n        label: header,\n        backgroundColor: this.barGraphColors\n      }];\n    }\n\n    exportHTML(filename = \"\") {\n      /*  var header =\n        \"<html xmlns:o='urn:schemas-microsoft-com:office:office' \" +\n        \"xmlns:w='urn:schemas-microsoft-com:office:word' \" +\n        \"xmlns='http://www.w3.org/TR/REC-html40'>\" +\n        \"<head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>\";\n      var footer = \"</body></html>\";\n      var sourceHTML =\n        header + document.getElementById(\"source-html\").innerHTML + footer;\n           var source =\n        \"data:application/vnd.ms-word;charset=utf-8,\" +\n        encodeURIComponent(sourceHTML);\n      var fileDownload = document.createElement(\"a\");\n      document.body.appendChild(fileDownload);\n      fileDownload.href = source;\n      fileDownload.download = \"document.docx\";\n      fileDownload.click();\n      document.body.removeChild(fileDownload); */\n      var HtmlHead = \"<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML To Doc</title></head><body>\";\n      var EndHtml = \"</body></html>\"; //complete html\n\n      var html = HtmlHead + document.getElementById(\"source-html\").innerHTML + EndHtml; //specify the type\n\n      var blob = new Blob([\"\\ufeff\", html], {\n        type: \"application/msword\"\n      }); // Specify link url\n\n      var url = \"data:application/vnd.ms-word;charset=utf-8,\" + encodeURIComponent(html); // Specify file name\n\n      filename = filename ? filename + \".doc\" : \"document.doc\"; // Create download link element\n\n      var downloadLink = document.createElement(\"a\");\n      document.body.appendChild(downloadLink);\n      /*  if(navigator.msSaveOrOpenBlob ){\n          navigator.msSaveOrOpenBlob(blob, filename);\n      }else{ */\n      // Create a link to the file\n\n      downloadLink.href = url; // Setting the file name\n\n      downloadLink.download = filename; //triggering the function\n\n      downloadLink.click(); // }\n\n      document.body.removeChild(downloadLink);\n    }\n\n    downloadCanvas(event) {\n      // get the `<a>` element from click event\n      var anchor = event.target; // get the canvas, I'm getting it by tag name, you can do by id\n      // and set the href of the anchor to the canvas dataUrl\n\n      anchor.href = document.getElementsByTagName(\"canvas\")[0].toDataURL(); // set the anchors 'download' attibute (name of the file to be downloaded)\n\n      console.log(anchor.href);\n      anchor.download = \"test.png\";\n    }\n\n  }\n\n  GraphsComponent.ɵfac = function GraphsComponent_Factory(t) {\n    return new (t || GraphsComponent)();\n  };\n\n  GraphsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GraphsComponent,\n    selectors: [[\"app-graphs\"]],\n    inputs: {\n      graphInfo: \"graphInfo\"\n    },\n    decls: 11,\n    vars: 6,\n    consts: [[\"type\", \"button\", 1, \"ml-auto\", \"btn\", \"btn-primary\", \"squareButtons\", 3, \"click\"], [\"id\", \"source-html\", 1, \"data-card\", \"graphContainer\"], [4, \"ngIf\"], [1, \"data-card\", 2, \"background-color\", \"white\"], [2, \"text-align\", \"center\", \"padding-top\", \"10px\"], [\"baseChart\", \"\", 3, \"datasets\", \"labels\", \"legend\", \"type\"], [\"id\", \"canvas1\", \"baseChart\", \"\", 3, \"datasets\", \"labels\", \"legend\", \"type\"], [2, \"text-align\", \"center\", \"width\", \"600px\", \"height\", \"600px\"], [\"height\", \"600px\", \"width\", \"600px\", \"baseChart\", \"\", 3, \"datasets\", \"labels\", \"legend\", \"type\"]],\n    template: function GraphsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"a\", 0);\n        i0.ɵɵlistener(\"click\", function GraphsComponent_Template_a_click_0_listener() {\n          return ctx.exportHTML();\n        });\n        i0.ɵɵtext(1, \" download\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtemplate(3, GraphsComponent_div_3_Template, 12, 8, \"div\", 2);\n        i0.ɵɵtemplate(4, GraphsComponent_div_4_Template, 11, 8, \"div\", 2);\n        i0.ɵɵelementStart(5, \"h2\");\n        i0.ɵɵtext(6, \"Aptitudes and Abilities\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵelementStart(8, \"h5\", 4);\n        i0.ɵɵtext(9, \"Aptitude results\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"canvas\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.graphInfo.test_2.completed && ctx.graphInfo.test_3.completed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.graphInfo.test_4.completed && ctx.graphInfo.test_5.completed);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"datasets\", ctx.aptitudeData)(\"labels\", ctx.aptitudeLabels)(\"legend\", ctx.chartLegend)(\"type\", ctx.chartType);\n      }\n    },\n    directives: [i1.NgIf, i2.BaseChartDirective],\n    styles: [\".data-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:20px;border-radius:.5em;text-decoration:none;margin:1em;box-shadow:1em 1em 1.5em -.5em #0000001a;transition:transform .45s ease,background .45s ease;background-color:#ecf3f4;justify-content:center}.graphContainer[_ngcontent-%COMP%]{padding:10px}\"]\n  });\n  return GraphsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}