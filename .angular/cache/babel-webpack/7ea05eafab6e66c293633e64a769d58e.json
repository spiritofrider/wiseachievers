{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { LoginComponent } from 'src/app/shared/common/login/login.component';\nimport { SignupComponent } from 'src/app/shared/common/signup/signup.component';\nlet NavbarComponent = class NavbarComponent {\n  constructor(router, location, storageService, common, BsModalService) {\n    this.router = router;\n    this.location = location;\n    this.storageService = storageService;\n    this.common = common;\n    this.BsModalService = BsModalService;\n    router.events.subscribe(e => {\n      if (location.path() != \"\") {\n        this.route = location.path();\n      } else {\n        this.route = this.admin ? \"admin\" : \"home\";\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.token = this.storageService.getCookie('token');\n    this.username = this.common.tokenDecryption(this.storageService.getCookie('token'))['fullName'];\n    this.admin = this.common.tokenDecryption(this.storageService.getCookie('token'))['isAdmin'];\n    this.isActive = this.common.tokenDecryption(this.storageService.getCookie('token'))['activateAccount'];\n  }\n\n  getActiveRoutes(route) {\n    let isRoute = false;\n\n    if (route) {\n      if (this.route.indexOf(route) > -1) {\n        isRoute = true;\n      } else {\n        isRoute = false;\n      }\n    }\n\n    return isRoute;\n  }\n\n  openLoginModal() {\n    this.bsModalRef = this.BsModalService.show(LoginComponent, {\n      backdrop: 'static',\n      keyboard: false\n    });\n    let loginSubscriber = this.BsModalService.onHide.subscribe(res => {\n      let username = this.bsModalRef.content.username;\n\n      if (username) {\n        loginSubscriber.unsubscribe();\n        this.username = this.common.tokenDecryption(this.storageService.getCookie('token'))['fullName'];\n        this.token = this.storageService.getCookie('token');\n        this.admin = this.common.tokenDecryption(this.storageService.getCookie('token'))['isAdmin'];\n        this.isActive = this.common.tokenDecryption(this.storageService.getCookie('token'))['activateAccount'];\n      }\n    });\n  }\n\n  logout() {\n    this.storageService.clearAllCookie();\n    this.token = undefined;\n    this.admin = this.common.tokenDecryption(this.storageService.getCookie('token'))['isAdmin'];\n    this.isActive = this.common.tokenDecryption(this.storageService.getCookie('token'))['activateAccount'];\n    this.router.navigate(['base/home']);\n  }\n\n  openSignupModal() {\n    this.bsModalRef = this.BsModalService.show(SignupComponent, {\n      backdrop: 'static',\n      keyboard: false\n    });\n  }\n\n};\nNavbarComponent = __decorate([Component({\n  selector: 'navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss']\n})], NavbarComponent);\nexport { NavbarComponent };","map":null,"metadata":{},"sourceType":"module"}