{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/commonservice\";\nimport * as i3 from \"src/app/services/storage.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction TimerBasedTestComponent_div_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelementStart(1, \"input\", 12);\n    i0.ɵɵlistener(\"change\", function TimerBasedTestComponent_div_1_div_8_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const quiz_r7 = restoredCtx.$implicit;\n      const question_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.optionSelected($event, question_r3.qno, question_r3.question, quiz_r7.option);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const quiz_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    const question_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"name\", question_r3.qno);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"t\", i_r8 + 1, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", quiz_r7.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(quiz_r7.option);\n  }\n}\n\nfunction TimerBasedTestComponent_div_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const question_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r6.assetLocation + question_r3.img + \".PNG\", i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction TimerBasedTestComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"span\", 6);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtemplate(8, TimerBasedTestComponent_div_1_div_8_Template, 4, 4, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, TimerBasedTestComponent_div_1_div_9_Template, 2, 1, \"div\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const question_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", question_r3.qno, \".\\u00A0\\u00A0\\u00A0\\u00A0\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(question_r3.question);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", question_r3[\"options\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", question_r3.img);\n  }\n}\n\nfunction TimerBasedTestComponent_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function TimerBasedTestComponent_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.submitTest();\n    });\n    i0.ɵɵtext(1, \" Submit Test \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TimerBasedTestComponent_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function TimerBasedTestComponent_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.goToMainScreen();\n    });\n    i0.ɵɵtext(1, \" Go to Main Test Screen \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let TimerBasedTestComponent = /*#__PURE__*/(() => {\n  class TimerBasedTestComponent {\n    constructor(router, common, storageService) {\n      this.router = router;\n      this.common = common;\n      this.storageService = storageService;\n      this.questionIncrement = new EventEmitter();\n      this.finalObj = new EventEmitter();\n      this.submitExampleTestEmitter = new EventEmitter();\n      this.traverseTestEmitter = new EventEmitter();\n      this.mainTestObject = [];\n      this.currentQuestion = 0;\n      this.choiceObject = {\n        id: \"\",\n        question: \"\",\n        selected: \"\",\n        value: \"\"\n      };\n      this.assetLocation = \"../assets/images/\";\n    }\n\n    ngOnInit() {}\n\n    ngOnChanges() {\n      this.isAdmin = this.common.tokenDecryption(this.storageService.getCookie(\"token\"))[\"isAdmin\"];\n\n      if (!this.submissionPart) {\n        this.currentQuestion = 0;\n        this.mainTestObject = [];\n      }\n    }\n\n    goToMainScreen() {\n      this.router.navigate([\"base/test\"]);\n    }\n\n    submitTest() {\n      this.finalObj.emit(this.mainTestObject);\n      this.submitExampleTestEmitter.emit(\"test\");\n    }\n\n    optionSelected(e, qno, question, category, value) {\n      this.choiceObject[\"id\"] = qno;\n      this.choiceObject[\"question\"] = question;\n      this.choiceObject[\"value\"] = value;\n      this.choiceObject[\"selected\"] = e[\"target\"][\"defaultValue\"];\n      let filledQues = this.mainTestObject.filter(e => e[\"id\"] == qno);\n\n      if (filledQues.length < 1) {\n        this.mainTestObject.push(this.choiceObject);\n      } else {\n        const Index = this.mainTestObject.findIndex(e => e.id == qno);\n        this.mainTestObject[Index][\"value\"] = this.choiceObject[\"value\"];\n        this.mainTestObject[Index][\"selected\"] = e[\"target\"][\"defaultValue\"];\n        console.log(\"mainObj\", this.mainTestObject);\n      }\n\n      this.resetChoiceObject();\n    }\n\n    resetChoiceObject() {\n      this.choiceObject = {\n        id: \"\",\n        question: \"\",\n        selected: \"\",\n        value: \"\"\n      };\n    }\n\n  }\n\n  TimerBasedTestComponent.ɵfac = function TimerBasedTestComponent_Factory(t) {\n    return new (t || TimerBasedTestComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CommonService), i0.ɵɵdirectiveInject(i3.StorageService));\n  };\n\n  TimerBasedTestComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TimerBasedTestComponent,\n    selectors: [[\"timer-based-test\"]],\n    inputs: {\n      TestQuiz: \"TestQuiz\",\n      submissionPart: \"submissionPart\",\n      TestType: \"TestType\",\n      firstRelation: \"firstRelation\"\n    },\n    outputs: {\n      questionIncrement: \"questionIncrement\",\n      finalObj: \"finalObj\",\n      submitExampleTestEmitter: \"submitExampleTestEmitter\",\n      traverseTestEmitter: \"traverseTestEmitter\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 5,\n    vars: 3,\n    consts: [[1, \"data-card\", \"inner-data-card\"], [\"class\", \"testContainer\", 4, \"ngFor\", \"ngForOf\"], [1, \"button-container\"], [\"class\", \"btn btn-primary squareButtons\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-primary squareButtons ml-2\", 3, \"click\", 4, \"ngIf\"], [1, \"testContainer\"], [1, \"quesClass\"], [1, \"question\"], [2, \"display\", \"flex\", \"flex-direction\", \"row\", \"justify-content\", \"space-between\"], [\"class\", \"questionContainer\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"questionContainer\"], [\"type\", \"radio\", 3, \"name\", \"id\", \"value\", \"change\"], [2, \"width\", \"200px\", \"object-fit\", \"contain\", 3, \"src\"], [1, \"btn\", \"btn-primary\", \"squareButtons\", 3, \"click\"], [1, \"btn\", \"btn-primary\", \"squareButtons\", \"ml-2\", 3, \"click\"]],\n    template: function TimerBasedTestComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, TimerBasedTestComponent_div_1_Template, 10, 4, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtemplate(3, TimerBasedTestComponent_button_3_Template, 2, 0, \"button\", 3);\n        i0.ɵɵtemplate(4, TimerBasedTestComponent_button_4_Template, 2, 0, \"button\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.TestQuiz);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isAdmin);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n      }\n    },\n    directives: [i4.NgForOf, i4.NgIf],\n    styles: [\".data-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:20px;overflow:hidden;border-radius:.5em;text-decoration:none;margin:1em;box-shadow:1em 1em 1.5em -.5em #0000001a;transition:transform .45s ease,background .45s ease;background-color:#ecf3f4;justify-content:center}h5[_ngcontent-%COMP%]{padding:20px;background-color:#fff;font-size:15px}.inner-data-card[_ngcontent-%COMP%]{padding:2.5em;background-color:#fff;font-size:15px}.inner-data-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:26px;color:#d3d3d3}.inner-data-card[_ngcontent-%COMP%]   .choiceContainer[_ngcontent-%COMP%]{padding:1em}.inner-data-card[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{font-weight:600}.inner-data-card[_ngcontent-%COMP%]   .questionContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:2px 8px}.inner-data-card[_ngcontent-%COMP%]   .questionContainer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 8px}.stepBtn[_ngcontent-%COMP%]{border-radius:5px;padding:4px 10px;background-color:#ecf3f4;justify-content:flex-end}.stepBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;margin:3px;font-size:26px}.btn-primary.disabled[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:disabled{background-color:#d3d3d3!important}.questionNumberContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:20px 1em 0}.questionNumberContainer[_ngcontent-%COMP%]   .questionNumberBox[_ngcontent-%COMP%]{min-width:25px;max-height:25px;margin-right:10px;background-color:#fff;border-radius:3px}.questionNumberContainer[_ngcontent-%COMP%]   .questionNumberBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;text-align:center}.activeClass[_ngcontent-%COMP%]{transform:scale(1.5)}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px 10px}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f2f3;font-size:13px}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .maxWIdth[_ngcontent-%COMP%]{max-width:580px}.quesClass[_ngcontent-%COMP%]{font-weight:800}.testContainer[_ngcontent-%COMP%]{margin-bottom:10px}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.button-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px}.commonFlex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}\"]\n  });\n  return TimerBasedTestComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}