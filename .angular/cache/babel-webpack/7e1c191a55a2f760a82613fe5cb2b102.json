{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { InstructionModalComponent } from \"src/app/shared/common/instruction-modal/instruction-modal.component\";\nlet TestComponent = class TestComponent {\n  constructor(router, BsModalService, common, storageService) {\n    this.router = router;\n    this.BsModalService = BsModalService;\n    this.common = common;\n    this.storageService = storageService;\n  }\n\n  ngOnInit() {\n    const decryptCookie = this.common.tokenDecryption(this.storageService.getCookie(\"token\"));\n    decryptCookie[\"isAdmin\"] ? this.testUserStatus = Object : this.testUserStatus(decryptCookie[\"_id\"]);\n  }\n\n  TestSelection(attri, type, subattri1, subattri2) {\n    var _a, _b, _c;\n\n    const condition = ((_a = this.statusObject) === null || _a === void 0 ? void 0 : _a[attri].completed) !== true || ((_b = this.statusObject) === null || _b === void 0 ? void 0 : _b[subattri1].completed) !== true || ((_c = this.statusObject) === null || _c === void 0 ? void 0 : _c[subattri2].completed) !== true;\n\n    if (condition) {\n      this.bsModalRef = this.BsModalService.show(InstructionModalComponent, {\n        backdrop: \"static\",\n        keyboard: false\n      });\n      let subsciber = this.BsModalService.onHide.subscribe(res => {\n        let action = this.bsModalRef.content.action;\n\n        if (action == \"ok\") {\n          subsciber.unsubscribe();\n          this.router.navigate([\"base/test/test1\"]);\n        }\n      });\n    }\n  }\n\n  testUserStatus(userId) {\n    this.common.testUserStatus(userId).subscribe(e => {\n      console.log(e);\n      this.statusObject = e;\n      this.common.updateData(this.statusObject, \"testStatus\");\n    }, error => {\n      this.common.snackBar(\"There is some issue in fetching the tests\", \"\");\n    });\n  }\n\n  disablingClass() {\n    var _a, _b, _c, _d, _e, _f;\n\n    return this.common.tokenDecryption(this.storageService.getCookie(\"token\"))[\"isAdmin\"] ? false : ((_b = (_a = this.statusObject) === null || _a === void 0 ? void 0 : _a[\"test_1\"]) === null || _b === void 0 ? void 0 : _b.completed) == true && ((_d = (_c = this.statusObject) === null || _c === void 0 ? void 0 : _c[\"test_2\"]) === null || _d === void 0 ? void 0 : _d.completed) == true && ((_f = (_e = this.statusObject) === null || _e === void 0 ? void 0 : _e[\"test_3\"]) === null || _f === void 0 ? void 0 : _f.completed) == true;\n  }\n\n};\nTestComponent = __decorate([Component({\n  selector: \"app-test\",\n  templateUrl: \"./test.component.html\",\n  styleUrls: [\"./test.component.scss\"]\n})], TestComponent);\nexport { TestComponent };","map":null,"metadata":{},"sourceType":"module"}