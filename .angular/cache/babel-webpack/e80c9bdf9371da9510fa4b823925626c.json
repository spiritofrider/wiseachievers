{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nfunction CareerProfilerComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 10);\n    i0.ɵɵelementStart(4, \"input\", 11);\n    i0.ɵɵlistener(\"change\", function CareerProfilerComponent_tr_19_Template_input_change_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.preferenceSelection(\"First\", $event, i_r2 + 1);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 12);\n    i0.ɵɵelementStart(6, \"input\", 11);\n    i0.ɵɵlistener(\"change\", function CareerProfilerComponent_tr_19_Template_input_change_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.preferenceSelection(\"Second\", $event, i_r2 + 1);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 12);\n    i0.ɵɵelementStart(8, \"input\", 11);\n    i0.ɵɵlistener(\"change\", function CareerProfilerComponent_tr_19_Template_input_change_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.preferenceSelection(\"Third\", $event, i_r2 + 1);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const quiz_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(quiz_r1.option);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"name\", i_r2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"f\", i_r2 + 1, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", quiz_r1.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"name\", i_r2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"s\", i_r2 + 1, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", quiz_r1.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"name\", i_r2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"t\", i_r2 + 1, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", quiz_r1.value);\n  }\n}\n\nexport let CareerProfilerComponent = /*#__PURE__*/(() => {\n  class CareerProfilerComponent {\n    constructor() {\n      this.questionIncrement = new EventEmitter();\n      this.finalObj = new EventEmitter();\n      this.mainTestObject = [];\n      this.currentQuestion = 0;\n      this.preferenceObject = {\n        'id': '',\n        'question': '',\n        'FirstPreferance': '',\n        'SecondPreferance': '',\n        'ThirdPreferance': '',\n        'FirstPreferanceIndex': null,\n        'SecondPreferanceIndex': null,\n        'ThirdPreferanceIndex': null\n      };\n    }\n\n    ngOnInit() {\n      console.log(this.submissionPart);\n    }\n\n    ngOnChanges() {\n      console.log(this.submissionPart);\n    }\n\n    nextQuestion() {\n      /*   if(Object.values(this.preferenceObject).every(v => v)){\n        const prevfilledQues = this.mainTestObject.find(e=> e['question'] == this.TestQuiz[this.currentQuestion].question)\n        console.log(\"filleQues\",prevfilledQues)\n          if(prevfilledQues){\n          }\n          else{\n          this.mainTestObject.push(this.preferenceObject)\n          this.preferenceObject ={\n            'question' : '',\n            'FirstPreferance' : '',\n            'SecondPreferance' : '',\n            'ThirdPreferance' : '',\n            'FirstPreferanceIndex' : null,\n            'SecondPreferanceIndex':null,\n            'ThirdPreferanceIndex': null\n          };\n          document.getElementById(`b${this.currentQuestion}`).style.backgroundColor = '#0081d6'\n          document.getElementById(`b${this.currentQuestion}`).style.color = 'white'\n        }\n        }\n        else{\n          this.mainTestObject = this.mainTestObject.filter(main => main['question'] !=  this.preferenceObject['question'])\n          this.preferenceObject ={\n            'question' : '',\n            'FirstPreferance' : '',\n            'SecondPreferance' : '',\n            'ThirdPreferance' : '',\n            'FirstPreferanceIndex' : null,\n            'SecondPreferanceIndex':null,\n            'ThirdPreferanceIndex': null\n          };\n          //document.getElementById(`b${this.currentQuestion}`).style.backgroundColor = '#ffffff'\n          //document.getElementById(`b${this.currentQuestion}`).style.color = 'black'\n        } */\n      if (this.currentQuestion < this.TestQuiz.length - 1) {\n        this.currentQuestion += 1;\n        this.CheckBoxLogicCommon();\n      }\n\n      console.log(this.mainTestObject);\n    }\n\n    prevQues() {\n      if (this.currentQuestion > 0) {\n        this.currentQuestion -= 1;\n        this.questionIncrement.emit(this.currentQuestion);\n      }\n\n      this.CheckBoxLogicCommon();\n    }\n\n    CheckBoxLogicCommon() {\n      this.resetPreferenceObject();\n      this.questionIncrement.emit(this.currentQuestion);\n      const filledQues = this.mainTestObject.find(e => e.id == this.TestQuiz[this.currentQuestion].qno);\n\n      if (filledQues) {\n        setTimeout(() => {\n          if (filledQues['FirstPreferanceIndex']) {\n            document.getElementById(`f${filledQues['FirstPreferanceIndex']}`)['checked'] = true;\n          }\n\n          if (filledQues['SecondPreferanceIndex']) {\n            document.getElementById(`s${filledQues['SecondPreferanceIndex']}`)['checked'] = true;\n          }\n\n          if (filledQues['ThirdPreferanceIndex']) {\n            document.getElementById(`t${filledQues['ThirdPreferanceIndex']}`)['checked'] = true;\n          }\n        }, 0);\n      }\n    }\n\n    preferenceSelection(type, e, index) {\n      const filledQues = this.mainTestObject.find(e => e['id'] == this.TestQuiz[this.currentQuestion].qno);\n\n      if (filledQues) {\n        this.preferenceObject = filledQues;\n      }\n\n      this.preferenceObject['question'] = this.TestQuiz[this.currentQuestion].question;\n      this.preferenceObject['id'] = this.TestQuiz[this.currentQuestion].qno;\n\n      if (type == 'First') {\n        if (!!this.preferenceObject.FirstPreferanceIndex) {\n          document.getElementById(`f${this.preferenceObject['FirstPreferanceIndex']}`)['checked'] = false;\n        }\n\n        if (this.preferenceObject['SecondPreferanceIndex'] == index) {\n          this.preferenceObject['SecondPreferanceIndex'] = null;\n        }\n\n        if (this.preferenceObject['ThirdPreferanceIndex'] == index) {\n          this.preferenceObject['ThirdPreferanceIndex'] = null;\n        }\n\n        this.preferenceObject['FirstPreferanceIndex'] = index;\n        this.preferenceObject['FirstPreferance'] = e['target']['defaultValue'];\n      } else if (type == 'Second') {\n        if (!!this.preferenceObject.SecondPreferanceIndex) {\n          document.getElementById(`s${this.preferenceObject['SecondPreferanceIndex']}`)['checked'] = false;\n        }\n\n        if (this.preferenceObject['FirstPreferanceIndex'] == index) {\n          this.preferenceObject['FirstPreferanceIndex'] = null;\n        }\n\n        if (this.preferenceObject['ThirdPreferanceIndex'] == index) {\n          this.preferenceObject['ThirdPreferanceIndex'] = null;\n        }\n\n        this.preferenceObject['SecondPreferanceIndex'] = index;\n        this.preferenceObject['SecondPreferance'] = e['target']['defaultValue'];\n      } else if (type == 'Third') {\n        if (!!this.preferenceObject.ThirdPreferanceIndex) {\n          document.getElementById(`t${this.preferenceObject['ThirdPreferanceIndex']}`)['checked'] = false;\n        }\n\n        if (this.preferenceObject['FirstPreferanceIndex'] == index) {\n          this.preferenceObject['FirstPreferanceIndex'] = null;\n        }\n\n        if (this.preferenceObject['SecondPreferanceIndex'] == index) {\n          this.preferenceObject['SecondPreferanceIndex'] = null;\n        }\n\n        this.preferenceObject['ThirdPreferanceIndex'] = index;\n        this.preferenceObject['ThirdPreferance'] = e['target']['defaultValue'];\n      }\n\n      console.log(\"preferance object\", this.preferenceObject);\n\n      if (Object.values(this.preferenceObject).every(v => v)) {\n        let filledQues = this.mainTestObject.filter(e => e['id'] == this.TestQuiz[this.currentQuestion].qno);\n        console.log('filled Ques', filledQues);\n\n        if (filledQues.length < 1) {\n          this.mainTestObject.push(this.preferenceObject);\n        } else {\n          this.mainTestObject.map(obj => filledQues.find(o => o.id === obj.id) || obj);\n        }\n      }\n\n      console.log('main object:', this.mainTestObject);\n      this.finalObj.emit(this.mainTestObject);\n    }\n\n    resetPreferenceObject() {\n      this.preferenceObject = {\n        'id': '',\n        'question': '',\n        'FirstPreferance': '',\n        'SecondPreferance': '',\n        'ThirdPreferance': '',\n        'FirstPreferanceIndex': null,\n        'SecondPreferanceIndex': null,\n        'ThirdPreferanceIndex': null\n      };\n    }\n\n  }\n\n  CareerProfilerComponent.ɵfac = function CareerProfilerComponent_Factory(t) {\n    return new (t || CareerProfilerComponent)();\n  };\n\n  CareerProfilerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CareerProfilerComponent,\n    selectors: [[\"app-career-profiler\"]],\n    inputs: {\n      TestQuiz: \"TestQuiz\",\n      submissionPart: \"submissionPart\"\n    },\n    outputs: {\n      questionIncrement: \"questionIncrement\",\n      finalObj: \"finalObj\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 25,\n    vars: 4,\n    consts: [[1, \"data-card\", \"inner-data-card\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-question-circle\"], [1, \"question\"], [1, \"choiceContainer\"], [1, \"table-responsive\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", \"squareButtons\", \"stepBtn\", 3, \"disabled\", \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-angle-left\"], [1, \"btn\", \"btn-primary\", \"squareButtons\", \"stepBtn\", \"ml-2\", 3, \"disabled\", \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-angle-right\"], [1, \"input\", 2, \"{'max-width'\", \"50px}\"], [\"type\", \"radio\", 3, \"name\", \"id\", \"value\", \"change\"], [1, \"input\"]],\n    template: function CareerProfilerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\");\n        i0.ɵɵelementStart(2, \"span\");\n        i0.ɵɵelement(3, \"i\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"span\", 2);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"table\");\n        i0.ɵɵelementStart(9, \"tr\");\n        i0.ɵɵelementStart(10, \"th\");\n        i0.ɵɵtext(11, \"Options\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"1st Preference\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"2nd Preference\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\");\n        i0.ɵɵtext(17, \"3rd Preference\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"tbody\");\n        i0.ɵɵtemplate(19, CareerProfilerComponent_tr_19_Template, 9, 10, \"tr\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\");\n        i0.ɵɵelementStart(21, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function CareerProfilerComponent_Template_button_click_21_listener() {\n          return ctx.prevQues();\n        });\n        i0.ɵɵelement(22, \"i\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function CareerProfilerComponent_Template_button_click_23_listener() {\n          return ctx.nextQuestion();\n        });\n        i0.ɵɵelement(24, \"i\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.TestQuiz[ctx.currentQuestion].question);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngForOf\", ctx.TestQuiz[ctx.currentQuestion][\"options\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.currentQuestion == 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.currentQuestion >= ctx.TestQuiz.length - 1);\n      }\n    },\n    directives: [i1.NgForOf],\n    styles: [\".data-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:20px;overflow:hidden;border-radius:.5em;text-decoration:none;margin:1em;box-shadow:1em 1em 1.5em -.5em #0000001a;transition:transform .45s ease,background .45s ease;background-color:#ecf3f4;justify-content:center}h5[_ngcontent-%COMP%]{padding:20px;background-color:#fff;font-size:15px}.inner-data-card[_ngcontent-%COMP%]{padding:2.5em;background-color:#fff;font-size:15px}.inner-data-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:18px;color:#d3d3d3}.inner-data-card[_ngcontent-%COMP%]   .choiceContainer[_ngcontent-%COMP%]{padding:1em}.inner-data-card[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{font-weight:600}.stepBtn[_ngcontent-%COMP%]{border-radius:5px;padding:4px 10px;background-color:#ecf3f4}.stepBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;margin:3px}.btn-primary.disabled[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:disabled{background-color:#d3d3d3!important}.questionNumberContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:20px 1em 0}.questionNumberContainer[_ngcontent-%COMP%]   .questionNumberBox[_ngcontent-%COMP%]{min-width:25px;max-height:25px;margin-right:10px;background-color:#fff;border-radius:3px}.questionNumberContainer[_ngcontent-%COMP%]   .questionNumberBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;text-align:center}.activeClass[_ngcontent-%COMP%]{transform:scale(1.5)}.table-responsive[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{max-height:320px;overflow-y:auto}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px 10px}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;position:sticky;top:-1px}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}\"]\n  });\n  return CareerProfilerComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}