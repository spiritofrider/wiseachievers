{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { LoginComponent } from 'src/app/shared/common/login/login.component';\nimport { SignupComponent } from 'src/app/shared/common/signup/signup.component';\nlet TopLayoutComponent = class TopLayoutComponent {\n  constructor(BsModalService, storageService, route, common) {\n    this.BsModalService = BsModalService;\n    this.storageService = storageService;\n    this.route = route;\n    this.common = common;\n  }\n\n  ngOnInit() {\n    this.username = this.common.tokenDecryption(this.storageService.getCookie('token'))['fullName'];\n    this.token = this.storageService.getCookie('token');\n  }\n\n  openLoginModal() {\n    this.bsModalRef = this.BsModalService.show(LoginComponent, {\n      backdrop: 'static',\n      keyboard: false\n    });\n    let loginSubscriber = this.BsModalService.onHide.subscribe(res => {\n      let username = this.bsModalRef.content.username;\n\n      if (username) {\n        loginSubscriber.unsubscribe();\n        this.username = username;\n        this.token = this.storageService.getCookie('token');\n      }\n    });\n  }\n\n  logout() {\n    this.storageService.clearAllCookie();\n    this.token = undefined;\n    this.route.navigate(['base/home']);\n  }\n\n  openSignupModal() {\n    this.bsModalRef = this.BsModalService.show(SignupComponent, {\n      backdrop: 'static',\n      keyboard: false\n    });\n  }\n\n};\nTopLayoutComponent = __decorate([Component({\n  selector: 'app-top-layout',\n  templateUrl: './top-layout.component.html',\n  styleUrls: ['./top-layout.component.scss']\n})], TopLayoutComponent);\nexport { TopLayoutComponent };","map":null,"metadata":{},"sourceType":"module"}